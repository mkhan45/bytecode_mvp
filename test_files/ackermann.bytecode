Proc ackermann
    GetArg 1
    -- [m, n | m]
    JE m0

    GetArg 0
    -- [m, n | m, n]
    JE n0

    -- [m, n | m, n]
    Decr
    Call ackermann
    -- [m, n | A(m, n - 1)]
    GetArg 1
    Decr
    -- [m, n | A(m, n - 1), m - 1]
    Get 0
    -- [m, n | A(m, n - 1), m - 1, A(m, n - 1)]
    Call ackermann
    -- [m, n | A(m, n - 1), A(m - 1, A(m, n - 1))]
    CollapseRet 1

    label m0
        -- [m, n |]
        GetArg 0
        Incr
        -- [m, n, | n + 1]
        CollapseRet 1

    label n0
        -- [m, n, | m]
        Decr
        Push 1
        -- [m, n, | m - 1, 1]
        Call ackermann
        CollapseRet 1
End

Push 3
Push 10
Call ackermann
Print

Push 10
PrintC
